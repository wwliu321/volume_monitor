{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\volume-monitor\\\\src\\\\components\\\\VolumeVisualizer.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  position: relative;\n  width: ${props => props.isCompact ? '40px' : '60px'};\n  height: 50vh;\n  margin: 20px;\n  display: flex;\n  align-items: center;\n`;\n_c = Container;\nconst ProgressBar = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(\n    to top,\n    #4caf50 0%,\n    #8bc34a 25%,\n    #ffeb3b 50%,\n    #ff9800 75%,\n    #f44336 100%\n  );\n  border-radius: 4px;\n  overflow: hidden;\n`;\n_c2 = ProgressBar;\nconst VolumeLevel = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: ${props => props.height}%;\n  background-color: rgba(0, 0, 0, 0.7);\n  transition: height 0.1s ease-out;\n  animation: ${props => props.isLow ? 'pulse 2s infinite' : 'none'};\n\n  @keyframes pulse {\n    0% { opacity: 0.7; }\n    50% { opacity: 0.9; }\n    100% { opacity: 0.7; }\n  }\n`;\n_c3 = VolumeLevel;\nconst ThresholdMarker = styled.div`\n  position: absolute;\n  left: -5px;\n  bottom: ${props => props.position}%;\n  width: calc(100% + 10px);\n  height: 2px;\n  background-color: #fff;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.5);\n  cursor: ns-resize;\n  z-index: 2;\n\n  &::after {\n    content: '';\n    position: absolute;\n    right: -12px;\n    top: -4px;\n    width: 10px;\n    height: 10px;\n    background-color: #fff;\n    border-radius: 50%;\n    box-shadow: 0 0 4px rgba(0, 0, 0, 0.5);\n  }\n`;\n_c4 = ThresholdMarker;\nconst ScaleMarks = styled.div`\n  position: absolute;\n  right: -25px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  color: #666;\n  font-size: 12px;\n`;\n_c5 = ScaleMarks;\nconst ScaleMark = styled.div`\n  position: relative;\n  padding-left: 15px;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 50%;\n    width: 10px;\n    height: 1px;\n    background-color: #666;\n  }\n`;\n_c6 = ScaleMark;\nconst VolumeValue = styled.div`\n  position: absolute;\n  left: -40px;\n  font-size: ${props => Math.min(24 + props.volume / 4, 36)}px;\n  font-weight: bold;\n  color: ${props => props.volume < 30 ? '#f44336' : '#4caf50'};\n  transition: all 0.2s ease-out;\n`;\n_c7 = VolumeValue;\nexport const VolumeVisualizer = ({\n  volume,\n  threshold,\n  showValue = true,\n  isCompact = false,\n  onThresholdChange\n}) => {\n  _s();\n  const containerRef = useRef(null);\n  const isDragging = useRef(false);\n  useEffect(() => {\n    const handleMouseMove = e => {\n      if (!isDragging.current || !containerRef.current || !onThresholdChange) return;\n      const rect = containerRef.current.getBoundingClientRect();\n      const height = rect.height;\n      const y = e.clientY - rect.top;\n      const newThreshold = Math.max(0, Math.min(100, (1 - y / height) * 100));\n      onThresholdChange(newThreshold);\n    };\n    const handleMouseUp = () => {\n      isDragging.current = false;\n    };\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n    return () => {\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [onThresholdChange]);\n  const handleThresholdMouseDown = e => {\n    e.preventDefault();\n    isDragging.current = true;\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    ref: containerRef,\n    isCompact: isCompact,\n    children: [showValue && /*#__PURE__*/_jsxDEV(VolumeValue, {\n      volume: volume,\n      children: [volume.toFixed(0), \"%\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n      children: [/*#__PURE__*/_jsxDEV(VolumeLevel, {\n        height: volume,\n        isLow: volume < threshold\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ThresholdMarker, {\n        position: threshold,\n        onMouseDown: handleThresholdMouseDown\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), !isCompact && /*#__PURE__*/_jsxDEV(ScaleMarks, {\n      children: [/*#__PURE__*/_jsxDEV(ScaleMark, {\n        children: \"100%\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ScaleMark, {\n        children: \"75%\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ScaleMark, {\n        children: \"50%\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ScaleMark, {\n        children: \"25%\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ScaleMark, {\n        children: \"0%\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n};\n_s(VolumeVisualizer, \"GmK7BI1o7NKm3up8j+VIX9xm/yU=\");\n_c8 = VolumeVisualizer;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"ProgressBar\");\n$RefreshReg$(_c3, \"VolumeLevel\");\n$RefreshReg$(_c4, \"ThresholdMarker\");\n$RefreshReg$(_c5, \"ScaleMarks\");\n$RefreshReg$(_c6, \"ScaleMark\");\n$RefreshReg$(_c7, \"VolumeValue\");\n$RefreshReg$(_c8, \"VolumeVisualizer\");","map":{"version":3,"names":["React","useRef","useEffect","styled","jsxDEV","_jsxDEV","Container","div","props","isCompact","_c","ProgressBar","_c2","VolumeLevel","height","isLow","_c3","ThresholdMarker","position","_c4","ScaleMarks","_c5","ScaleMark","_c6","VolumeValue","Math","min","volume","_c7","VolumeVisualizer","threshold","showValue","onThresholdChange","_s","containerRef","isDragging","handleMouseMove","e","current","rect","getBoundingClientRect","y","clientY","top","newThreshold","max","handleMouseUp","document","addEventListener","removeEventListener","handleThresholdMouseDown","preventDefault","ref","children","toFixed","fileName","_jsxFileName","lineNumber","columnNumber","onMouseDown","_c8","$RefreshReg$"],"sources":["D:/projects/volume-monitor/src/components/VolumeVisualizer.tsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\n\r\ninterface VolumeVisualizerProps {\r\n  volume: number;\r\n  threshold: number;\r\n  showValue?: boolean;\r\n  isCompact?: boolean;\r\n  onThresholdChange?: (value: number) => void;\r\n}\r\n\r\nconst Container = styled.div<{ isCompact: boolean }>`\r\n  position: relative;\r\n  width: ${props => props.isCompact ? '40px' : '60px'};\r\n  height: 50vh;\r\n  margin: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst ProgressBar = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: linear-gradient(\r\n    to top,\r\n    #4caf50 0%,\r\n    #8bc34a 25%,\r\n    #ffeb3b 50%,\r\n    #ff9800 75%,\r\n    #f44336 100%\r\n  );\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst VolumeLevel = styled.div<{ height: number; isLow: boolean }>`\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: ${props => props.height}%;\r\n  background-color: rgba(0, 0, 0, 0.7);\r\n  transition: height 0.1s ease-out;\r\n  animation: ${props => props.isLow ? 'pulse 2s infinite' : 'none'};\r\n\r\n  @keyframes pulse {\r\n    0% { opacity: 0.7; }\r\n    50% { opacity: 0.9; }\r\n    100% { opacity: 0.7; }\r\n  }\r\n`;\r\n\r\nconst ThresholdMarker = styled.div<{ position: number }>`\r\n  position: absolute;\r\n  left: -5px;\r\n  bottom: ${props => props.position}%;\r\n  width: calc(100% + 10px);\r\n  height: 2px;\r\n  background-color: #fff;\r\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.5);\r\n  cursor: ns-resize;\r\n  z-index: 2;\r\n\r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    right: -12px;\r\n    top: -4px;\r\n    width: 10px;\r\n    height: 10px;\r\n    background-color: #fff;\r\n    border-radius: 50%;\r\n    box-shadow: 0 0 4px rgba(0, 0, 0, 0.5);\r\n  }\r\n`;\r\n\r\nconst ScaleMarks = styled.div`\r\n  position: absolute;\r\n  right: -25px;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  color: #666;\r\n  font-size: 12px;\r\n`;\r\n\r\nconst ScaleMark = styled.div`\r\n  position: relative;\r\n  padding-left: 15px;\r\n  \r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    left: 0;\r\n    top: 50%;\r\n    width: 10px;\r\n    height: 1px;\r\n    background-color: #666;\r\n  }\r\n`;\r\n\r\nconst VolumeValue = styled.div<{ volume: number }>`\r\n  position: absolute;\r\n  left: -40px;\r\n  font-size: ${props => Math.min(24 + props.volume / 4, 36)}px;\r\n  font-weight: bold;\r\n  color: ${props => props.volume < 30 ? '#f44336' : '#4caf50'};\r\n  transition: all 0.2s ease-out;\r\n`;\r\n\r\nexport const VolumeVisualizer: React.FC<VolumeVisualizerProps> = ({\r\n  volume,\r\n  threshold,\r\n  showValue = true,\r\n  isCompact = false,\r\n  onThresholdChange\r\n}) => {\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const isDragging = useRef(false);\r\n\r\n  useEffect(() => {\r\n    const handleMouseMove = (e: MouseEvent) => {\r\n      if (!isDragging.current || !containerRef.current || !onThresholdChange) return;\r\n\r\n      const rect = containerRef.current.getBoundingClientRect();\r\n      const height = rect.height;\r\n      const y = e.clientY - rect.top;\r\n      const newThreshold = Math.max(0, Math.min(100, (1 - y / height) * 100));\r\n      onThresholdChange(newThreshold);\r\n    };\r\n\r\n    const handleMouseUp = () => {\r\n      isDragging.current = false;\r\n    };\r\n\r\n    document.addEventListener('mousemove', handleMouseMove);\r\n    document.addEventListener('mouseup', handleMouseUp);\r\n\r\n    return () => {\r\n      document.removeEventListener('mousemove', handleMouseMove);\r\n      document.removeEventListener('mouseup', handleMouseUp);\r\n    };\r\n  }, [onThresholdChange]);\r\n\r\n  const handleThresholdMouseDown = (e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n    isDragging.current = true;\r\n  };\r\n\r\n  return (\r\n    <Container ref={containerRef} isCompact={isCompact}>\r\n      {showValue && <VolumeValue volume={volume}>{volume.toFixed(0)}%</VolumeValue>}\r\n      \r\n      <ProgressBar>\r\n        <VolumeLevel height={volume} isLow={volume < threshold} />\r\n        <ThresholdMarker \r\n          position={threshold}\r\n          onMouseDown={handleThresholdMouseDown}\r\n        />\r\n      </ProgressBar>\r\n\r\n      {!isCompact && (\r\n        <ScaleMarks>\r\n          <ScaleMark>100%</ScaleMark>\r\n          <ScaleMark>75%</ScaleMark>\r\n          <ScaleMark>50%</ScaleMark>\r\n          <ScaleMark>25%</ScaleMark>\r\n          <ScaleMark>0%</ScaleMark>\r\n        </ScaleMarks>\r\n      )}\r\n    </Container>\r\n  );\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}