{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\volume-monitor\\\\src\\\\components\\\\VolumeVisualizer.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  background: #f5f5f5;\n  border-radius: ${props => props.isCompact ? '4px' : '8px'};\n  padding: ${props => props.isCompact ? '10px' : '20px'};\n  margin-bottom: 20px;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n`;\n_c = Container;\nconst ProgressBar = styled.div`\n  height: 20px;\n  background: ${props => {\n  if (props.warning) {\n    return '#ff9800';\n  }\n  return props.percentage < props.threshold ? '#f44336' : '#4caf50';\n}};\n  width: ${props => props.percentage}%;\n  transition: width 0.1s ease-out;\n  border-radius: 4px;\n  position: relative;\n`;\n_c2 = ProgressBar;\nconst ProgressContainer = styled.div`\n  width: 100%;\n  height: 20px;\n  background: #e0e0e0;\n  border-radius: 4px;\n  overflow: hidden;\n  position: relative;\n`;\n_c3 = ProgressContainer;\nconst VolumeText = styled.div`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  color: white;\n  font-size: 12px;\n  font-weight: bold;\n  text-shadow: 0 1px 2px rgba(0,0,0,0.3);\n  z-index: 1;\n`;\n\n// 添加音量转换函数\n_c4 = VolumeText;\nconst percentToDecibel = percentage => {\n  // 将0-100的百分比映射到0-120分贝范围\n  return Math.round(percentage / 100 * 120);\n};\nexport const VolumeVisualizer = ({\n  volume,\n  threshold,\n  isCompact = false\n}) => {\n  _s();\n  const prevVolume = useRef(volume);\n  useEffect(() => {\n    prevVolume.current = volume;\n  }, [volume]);\n  const volumeInDb = percentToDecibel(volume);\n  const thresholdInDb = percentToDecibel(threshold);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    isCompact: isCompact,\n    children: /*#__PURE__*/_jsxDEV(ProgressContainer, {\n      children: [/*#__PURE__*/_jsxDEV(ProgressBar, {\n        percentage: volume,\n        threshold: threshold,\n        warning: volume < threshold\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(VolumeText, {\n        children: [volumeInDb, \" \\u5206\\u8D1D\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s(VolumeVisualizer, \"oXdjWbPqaacGT4HxVnahdpukEag=\");\n_c5 = VolumeVisualizer;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"ProgressBar\");\n$RefreshReg$(_c3, \"ProgressContainer\");\n$RefreshReg$(_c4, \"VolumeText\");\n$RefreshReg$(_c5, \"VolumeVisualizer\");","map":{"version":3,"names":["React","useEffect","useRef","styled","jsxDEV","_jsxDEV","Container","div","props","isCompact","_c","ProgressBar","warning","percentage","threshold","_c2","ProgressContainer","_c3","VolumeText","_c4","percentToDecibel","Math","round","VolumeVisualizer","volume","_s","prevVolume","current","volumeInDb","thresholdInDb","children","fileName","_jsxFileName","lineNumber","columnNumber","_c5","$RefreshReg$"],"sources":["D:/projects/volume-monitor/src/components/VolumeVisualizer.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport type { VolumeVisualizerProps } from '../types';\r\n\r\nconst Container = styled.div<{ isCompact?: boolean }>`\r\n  background: #f5f5f5;\r\n  border-radius: ${props => props.isCompact ? '4px' : '8px'};\r\n  padding: ${props => props.isCompact ? '10px' : '20px'};\r\n  margin-bottom: 20px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n`;\r\n\r\nconst ProgressBar = styled.div<{ \r\n  percentage: number; \r\n  threshold: number;\r\n  warning?: boolean;\r\n}>`\r\n  height: 20px;\r\n  background: ${props => {\r\n    if (props.warning) {\r\n      return '#ff9800';\r\n    }\r\n    return props.percentage < props.threshold ? '#f44336' : '#4caf50';\r\n  }};\r\n  width: ${props => props.percentage}%;\r\n  transition: width 0.1s ease-out;\r\n  border-radius: 4px;\r\n  position: relative;\r\n`;\r\n\r\nconst ProgressContainer = styled.div`\r\n  width: 100%;\r\n  height: 20px;\r\n  background: #e0e0e0;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  position: relative;\r\n`;\r\n\r\nconst VolumeText = styled.div`\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  color: white;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n  text-shadow: 0 1px 2px rgba(0,0,0,0.3);\r\n  z-index: 1;\r\n`;\r\n\r\n// 添加音量转换函数\r\nconst percentToDecibel = (percentage: number): number => {\r\n  // 将0-100的百分比映射到0-120分贝范围\r\n  return Math.round((percentage / 100) * 120);\r\n};\r\n\r\nexport const VolumeVisualizer: React.FC<VolumeVisualizerProps> = ({\r\n  volume,\r\n  threshold,\r\n  isCompact = false\r\n}) => {\r\n  const prevVolume = useRef(volume);\r\n\r\n  useEffect(() => {\r\n    prevVolume.current = volume;\r\n  }, [volume]);\r\n\r\n  const volumeInDb = percentToDecibel(volume);\r\n  const thresholdInDb = percentToDecibel(threshold);\r\n\r\n  return (\r\n    <Container isCompact={isCompact}>\r\n      <ProgressContainer>\r\n        <ProgressBar \r\n          percentage={volume} \r\n          threshold={threshold}\r\n          warning={volume < threshold}\r\n        />\r\n        <VolumeText>\r\n          {volumeInDb} 分贝\r\n        </VolumeText>\r\n      </ProgressContainer>\r\n    </Container>\r\n  );\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}